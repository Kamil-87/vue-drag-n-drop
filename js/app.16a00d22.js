(function(t){function e(e){for(var r,o,s=e[0],c=e[1],l=e[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},i=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-drag-n-drop/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0e46":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4de4");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=a("2877"),s={},c=Object(o["a"])(s,n,i,!1,null,null,null),l=c.exports,d=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"container"},[a("header",{staticClass:"header pt-1"},[a("h1",{staticClass:"mb-2"},[t._v("Drag And Drop")]),a("div",{staticClass:"action-block"},[a("button",{staticClass:"btn primary",on:{click:t.createCard}},[t._v("Добавить ")]),a("div",{staticClass:"form-checkbox"},[a("label",{attrs:{for:"checkbox"}},[t._v("click&drag")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.isDraggable,expression:"isDraggable"}],staticClass:"checkbox",attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.isDraggable)?t._i(t.isDraggable,null)>-1:t.isDraggable},on:{change:function(e){var a=t.isDraggable,r=e.target,n=!!r.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);r.checked?o<0&&(t.isDraggable=a.concat([i])):o>-1&&(t.isDraggable=a.slice(0,o).concat(a.slice(o+1)))}else t.isDraggable=n}}})])])]),a("hr"),a("div",{staticClass:"dashboard"},t._l(t.columns,(function(e){return a("div",{key:e.id,staticClass:"col",on:{drop:function(a){return a.preventDefault(),t.onDrop(a,e.id)},dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()}}},t._l(t.cardsByColumns(e),(function(e){return a("Card",{key:e.id,attrs:{card:e,id:e.id,name:e.name,description:e.description,isDraggable:t.isDraggable}})})),1)})),0)])},m=[],p=a("2909"),f=(a("99af"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isShowModal?a("Modal",{on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{domProps:{textContent:t._s(t.card.name)}})]},proxy:!0},{key:"body",fn:function(){return[a("p",{domProps:{textContent:t._s(t.card.description)}})]},proxy:!0}],null,!1,69424844)}):t._e(),a("div",{key:t.card.id,staticClass:"card",class:{move:t.isDraggable},attrs:{draggable:t.isDraggable},on:{dragstart:function(e){return t.onDragStart(e,t.card)},click:t.showModal}},[a("h3",{domProps:{textContent:t._s(t.card.name)}}),a("p",[t._v(t._s(t._f("formattedText")(t.card.description,30)))])])],1)}),h=[],g=(a("a9e3"),a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop",on:{click:function(e){return e.target!==e.currentTarget?null:t.close.apply(null,arguments)}}},[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",(function(){return[t._v(" This is the default tile! ")]})),a("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v(" x ")])],2),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",(function(){return[t._v(" I'm the default body! ")]}))],2)])])])}),v=[],b={name:"Modal",methods:{close:function(){this.$emit("close")}}},y=b,_=(a("59e8"),Object(o["a"])(y,g,v,!1,null,"6c334368",null)),D=_.exports,x={components:{Modal:D},props:{id:{type:[String,Number],required:!0},name:{type:String,default:"Name"},description:{type:String,default:"Description"},isDraggable:{type:Boolean,default:!0},card:{type:Object}},data:function(){return{isShowModal:!1}},methods:{showModal:function(){this.isShowModal=!0},closeModal:function(){this.isShowModal=!1},onDragStart:function(t,e){t.dataTransfer.dropEffect="move",t.dataTransfer.setData("cardId",e.id.toString())}}},C=x,S=(a("77c6"),Object(o["a"])(C,f,h,!1,null,"5b7ce6f8",null)),k=S.exports,N=[{id:1,name:"Name",description:"description",columnId:1},{id:2,name:"Name",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab accusantium animi assumenda eaque ipsam provident quam quos, reiciendis sequi vel. Dolorum, fugit iusto! Ab assumenda, at blanditiis iure, natus nemo non nulla officia ratione recusandae repellat sit, tempora ut voluptatem.",columnId:2}],w=[{id:1},{id:2},{id:3},{id:4}],O={name:"Home",components:{Card:k},data:function(){return{columns:[],cards:[],isDraggable:!0}},mounted:function(){this.columns=[].concat(w);var t=this.getStorage();null===localStorage.getItem("cards")?this.cards=[].concat(N):this.cards=Object(p["a"])(t)},watch:{cards:{handler:function(){this.updateStorage()},deep:!0}},methods:{cardsByColumns:function(t){return this.cards.filter((function(e){return e.columnId===t.id}))},createCard:function(){this.$router.push("/create-card")},onDrop:function(t,e){var a=parseInt(t.dataTransfer.getData("cardId"));this.cards=this.cards.map((function(t){return t.id===a&&(t.columnId=e),t}))},getStorage:function(){return JSON.parse(localStorage.getItem("cards"))},saveStorage:function(){localStorage.setItem("cards",JSON.stringify(this.cards))},updateStorage:function(){this.getStorage(),this.saveStorage()}}},j=O,M=(a("b947"),Object(o["a"])(j,u,m,!1,null,"0b4a563a",null)),P=M.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",{staticClass:"pt-1"},[t._v("Добавить новую задачу")]),a("form",{staticClass:"form mb-2",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submitHandler.apply(null,arguments)}}},[a("div",{class:[{invalid:t.isNameValid},"form-control"]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",id:"name",required:""},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.errorName.validated=!0}]}}),a("span",{staticClass:"bar"}),a("label",{attrs:{for:"name"},domProps:{textContent:t._s("Название*")}}),t.isNameValid?a("small",[t._v(t._s(t.isNameValid))]):t._e()]),a("div",{class:[{invalid:t.isDescriptionValid},"form-control"]},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{name:"description",id:"description",required:""},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},function(e){t.errorDescription.validated=!0}]}}),a("span",{staticClass:"bar"}),a("label",{attrs:{for:"description"},domProps:{textContent:t._s("Описание*")}}),t.isDescriptionValid?a("small",[t._v(t._s(t.isDescriptionValid))]):t._e()]),a("button",{staticClass:"btn primary",attrs:{type:"submit"}},[t._v(" Добавить ")]),a("button",{staticClass:"btn",on:{click:t.cancelHandler}},[t._v(" Отмена ")])])])},T=[],$=(a("b0c0"),a("a4d3"),a("e01a"),/^[\t-\r a-z\xA0\u017F\u0430-\u044F\u0451\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u212A\u3000\uFEFF]+$/i),q={data:function(){return{name:"",description:"",isNameTouched:!1,errors:{name:"",description:""},errorName:{minLength:3,required:!0,validated:null,formSubmitted:null},errorDescription:{maxLength:248,required:!0,validated:null,formSubmitted:null}}},computed:{isNameValid:function(){return this.errorName.validated?this.errorName.required&&!this.name?"Это поле является обязательным":!$.test(this.name)&&this.name?"Это поле должно содержать только буквы":this.errorName.minLength&&this.name.length<this.errorName.minLength?"Это поле должно содержать больше ".concat(this.errorName.minLength," символов"):"":""},isDescriptionValid:function(){return this.errorDescription.validated?this.errorDescription.required&&!this.description?"Это поле является обязательным":this.errorDescription.maxLength&&this.description.length>this.errorDescription.maxLength?"Это поле должно содержать меньше ".concat(this.errorDescription.maxLength," символов"):"":""}},methods:{cancelHandler:function(){this.$router.push("/")},submitHandler:function(){if(this.validateForm(),!this.isNameValid&&!this.isDescriptionValid){var t={id:Date.now(),name:this.name,description:this.description,columnId:1},e=this.getStorage();e.push(t),localStorage.setItem("cards",JSON.stringify(e)),this.$router.push({name:"Home"})}},getStorage:function(){return JSON.parse(localStorage.getItem("cards"))},validateForm:function(){this.errorName.validated=!0,this.errorDescription.validated=!0}}},A=q,F=Object(o["a"])(A,I,T,!1,null,null,null),V=F.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container center mt-1"},[a("h1",[t._v("404")]),a("div",[a("p",[t._v("Страница не найдена")]),a("router-link",{attrs:{to:"/"}},[t._v("Перейдите на домашнюю страницу")])],1)])},E=[],H={},J=H,B=(a("78dc"),Object(o["a"])(J,L,E,!1,null,"7232077f",null)),z=B.exports;r["a"].use(d["a"]);var G=[{path:"/",name:"Home",component:P},{path:"/create-card",name:"CreateCard",component:V},{path:"/*",name:"notFound",component:z}],K="history";K="hash";var Q=new d["a"]({mode:K,base:"/vue-drag-n-drop/",routes:G}),R=Q;a("fb6a"),a("498a");function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return t.trim().slice(0,e)+(e<t.length?"...":"")}a("0e46");r["a"].filter("formattedText",U),r["a"].config.productionTip=!1,new r["a"]({router:R,render:function(t){return t(l)}}).$mount("#app")},"59e8":function(t,e,a){"use strict";a("9bca")},"77c6":function(t,e,a){"use strict";a("a41b")},"78dc":function(t,e,a){"use strict";a("8e98")},"8e98":function(t,e,a){},"9bca":function(t,e,a){},a41b:function(t,e,a){},b947:function(t,e,a){"use strict";a("f3d1")},f3d1:function(t,e,a){}});
//# sourceMappingURL=app.16a00d22.js.map